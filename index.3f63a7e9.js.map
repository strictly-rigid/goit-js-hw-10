{"mappings":"YAAA,IAAAA,EAAeC,KAAO,CAClBC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,WACnCE,SAAUH,SAASC,cAAc,UACjCG,SAAUJ,SAASC,cAAc,cCFtB,SAAAI,IACXR,EAAKK,WAAWI,UAAUC,IAAI,kB,CCoC3B,SAASC,EAAgBC,GCpC5BZ,EAAKK,WAAWI,UAAUI,OAAO,mBDsCjCC,MAAM,sDAA2EC,OAnCrE,wEAmCwD,eAAqBA,OAARH,IAAWI,MACxF,SAAAC,GAEI,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAE7B,OAAOH,EAASI,M,IAEnBL,MAAK,SAAAM,GACE,GAAIA,GAAQA,EAAKC,OAAS,EAAG,CACjCf,IACA,IAAMgB,EAAYF,EAAK,GACvBG,QAAQC,IAAIF,GACZ,IAAIG,EAAWxB,SAASyB,cAAc,OACtCD,EAASE,IAAML,EAAUM,IACzB,IAAIC,EAAY5B,SAASyB,cAAc,MACvCG,EAAUC,YAAcR,EAAUS,OAAO,GAAGC,KAC5C,IAAIC,EAAahC,SAASyB,cAAc,KACxCO,EAAWH,YAAcR,EAAUY,YACnC,IAAIC,EAAclC,SAASyB,cAAc,KACzCS,EAAYL,YAAcR,EAAUS,OAAO,GAAGK,YAC9CtC,EAAKO,SAASgC,UAAY,GAC1BvC,EAAKO,SAASiC,OAAOb,EAAUI,EAAWI,EAAYE,E,KAMzDI,OAAM,SAAAC,GACHlC,IACAR,EAAKM,SAASG,UAAUI,OAAO,mBAC/BY,QAAQiB,MAAM,SAAUA,EAAMR,KAAMQ,EAAMC,Q,IElEtDnC,IACAR,EAAKE,SAASO,UAAUC,IAAI,mBAC5BV,EAAKM,SAASG,UAAUC,IAAI,mBFE5BI,MAAM,uCACDE,MAAK,SAAAC,GACF,IAAKA,EAASC,GACd,MAAM,IAAIC,MAAMF,EAASG,QAGzB,OAAOH,EAASI,M,IAEnBL,MAAK,SAAAM,GACFd,IAEAR,EAAKE,SAASO,UAAUI,OAAO,mBAC/Bb,EAAKM,SAASG,UAAUC,IAAI,mBAE5BY,EAAKsB,SAAQ,SAAAC,GACb,IAAMC,EAAW3C,SAASyB,cAAc,UACxCkB,EAASC,MAAQF,EAAMG,GACvBF,EAASd,YAAca,EAAMX,KAC7BlC,EAAKE,SAAS+C,YAAYH,E,OAG7BL,OAAM,SAAAC,GACHlC,IACAR,EAAKM,SAASG,UAAUI,OAAO,mBAC/BY,QAAQiB,MAAM,SAAUA,EAAMR,KAAMQ,EAAMC,Q,IEtBlD3C,EAAKE,SAASgD,iBAAiB,UAAU,WAErCvC,EADgBX,EAAKE,SAAS6C,M,IAIlCpC,G","sources":["modules/refs.js","modules/hideLoadingMsg.js","js/cat-api.js","modules/showLoadingMsg.js","js/index.js"],"sourcesContent":["export default refs = {\n    selector: document.querySelector('.breed-select'),\n    loadingMsg: document.querySelector('.loader'),\n    errorMsg: document.querySelector('.error'),\n    infoArea: document.querySelector('.cat-info')\n}","import refs from '../modules/refs.js'\n\nexport default function hideMLoadinMsg() {\n    refs.loadingMsg.classList.add('visually-hidden');\n}\n\n","import showLoadingMsg from '../modules/showLoadingMsg.js';\nimport hideLoadingMsg from '../modules/hideLoadingMsg.js';\nimport refs from '../modules/refs.js';\n\n\n\nconst API_KEY = 'live_ag5gUMuzkKy1xkRlgH6wDth7ng0wrLjfzgajka7bj4vCf5eioDJ3pQ1w343mAjzM';\n\nexport function fetchBreeds() {\n    \nfetch(\"https://api.thecatapi.com/v1/breeds\")\n    .then(response => {\n        if (!response.ok) {\n        throw new Error(response.status);\n        }\n       \n        return response.json();\n    })\n    .then(data => {     \n        hideLoadingMsg(); \n      \n        refs.selector.classList.remove('visually-hidden');\n        refs.errorMsg.classList.add('visually-hidden');\n        \n        data.forEach(breed => {\n        const catBreed = document.createElement('option');\n        catBreed.value = breed.id;\n        catBreed.textContent = breed.name;\n        refs.selector.appendChild(catBreed);\n    });\n    })\n    .catch(error => { \n        hideLoadingMsg();\n        refs.errorMsg.classList.remove(\"visually-hidden\");\n        console.error('Error:', error.name, error.message);\n    });\n}\n\n\nexport function fetchCatByBreed(breedId) {\n    showLoadingMsg();\n    fetch(`https://api.thecatapi.com/v1/images/search?api_key=${API_KEY}&breed_ids=${breedId}`).then(\n        response => {\n            \n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then(data => {\n                if (data && data.length > 0) {\n            hideLoadingMsg();\n            const breedData = data[0];\n            console.log(breedData);\n            let breedImg = document.createElement('img');\n            breedImg.src = breedData.url;\n            let breedName = document.createElement('h3');\n            breedName.textContent = breedData.breeds[0].name;\n            let breedDescr = document.createElement('p');\n            breedDescr.textContent = breedData.description;\n            let breedTemper = document.createElement('p');\n            breedTemper.textContent = breedData.breeds[0].temperament;\n            refs.infoArea.innerHTML = '';\n            refs.infoArea.append(breedImg, breedName, breedDescr, breedTemper);}\n       \n            \n\n            \n        })\n        .catch(error => {\n            hideLoadingMsg();\n            refs.errorMsg.classList.remove(\"visually-hidden\");\n            console.error('Error:', error.name, error.message);\n        })\n}\n\n\n\n","import refs from '../modules/refs.js'\n\nexport default function showLoadingMsg() {\n    refs.loadingMsg.classList.remove('visually-hidden');\n}","\nimport showLoadingMsg from '../modules/showLoadingMsg.js'\nimport hideLoadingMsg from '../modules/hideLoadingMsg.js'\nimport refs from '../modules/refs.js'\nimport { fetchBreeds, fetchCatByBreed } from '../js/cat-api.js';\n\nhideLoadingMsg();\nrefs.selector.classList.add('visually-hidden');\nrefs.errorMsg.classList.add(\"visually-hidden\");\n\nfetchBreeds();\n\nrefs.selector.addEventListener('change', () => {\n    const breedId = refs.selector.value;\n    fetchCatByBreed(breedId)\n});\n\nfetchCatByBreed();\n\n\n\n        \n           \n            \n\n"],"names":["$81015138780dfa31$export$2e2bcd8739ae039","refs","selector","document","querySelector","loadingMsg","errorMsg","infoArea","$c0589d67415ceb3e$export$2e2bcd8739ae039","classList","add","$c0eec5e3392a0b2b$export$57b7d3a597416aa2","breedId","remove","fetch","concat","then","response","ok","Error","status","json","data","length","breedData","console","log","breedImg","createElement","src","url","breedName","textContent","breeds","name","breedDescr","description","breedTemper","temperament","innerHTML","append","catch","error","message","forEach","breed","catBreed","value","id","appendChild","addEventListener"],"version":3,"file":"index.3f63a7e9.js.map"}